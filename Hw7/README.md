#  Object-Oriented Software Engineering - Hw7
## Introduction
這篇論文提出一個基於測試代碼相似度和演化搜索的黑箱測試案例的最小化方法，名為 ATM(AST-based Test case Minimizer)。

### Motivation
在軟體測試中，測試案例的生成和執行需要耗費大量時間和成本。為了提高測試效率，測試案例的最小化技術一直是軟體測試領域的關鍵研究課題之一。
現有的測試案例最小化方法主要有三種：基於代碼覆蓋率的方法、基於隨機刪減的方法和基於分群的方法。基於覆蓋率的方法雖然可以保證測試覆蓋率，但可能會過度刪減測試案例。基於隨機刪減的方法因為無明確的刪減策略，難以控制刪減率。而基於分群的方法需要人工事先定義分群策略，因此適用性會受到限制。
因此，如何實現高效而不失控的測試案例最小化，是一個值得研究的課題。
### Purpose
鑑於現有方法的不足，本研究提出一種新的測試案例最小化方法，名為 ATM(AST-based Test case Minimizer)。ATM 方法基於測試代碼的相似度分析和演化搜索技術，實現測試用例的高效最小化。
具體而言，此研究的目標有三個：
1. 設計一種測試程式碼相似度的計算方法；
2. 基於計算出的測試程式碼相似度，設計一種演化搜索演算法以最小化測試案例集；
3. 評估 ATM 方法的有效性及效率，並與現有方法進行比較。
## Methodology
ATM 方法分為兩個部分：計算代碼相似度和基於相似度的演化搜尋演算法。
### Similarity Measure
ATM 方法透過分析測試程式碼的控制流圖和數據流圖，提取兩個測試案例結構訊息中的共同特徵，進而定量地衡量其相似度。 
實際來說，控制流圖能反應測試程式碼的執行路徑和條件判斷，數據流圖則描述了測試程式碼對數據的定義和使用。本方法首先建構兩測試案例的這兩種圖，然後使用四種算法計算圖之間的結構相似度。最後，將兩種相似度線性組合，綜合得出測試程式碼整體的相似度值。
### Search-based Test Case Minimization
基於計算出的測試代碼相似度，ATM 方法設計了一種演化搜尋演算法以將測試案例最小化。演算法的運作過程如下:
1. 從測試套件中選擇相似度最高的兩個測試案例；
2. 通過修改測試程式碼，合併這兩個測試案例，產生一個新的測試案例； 
3. 用新生成的測試案例替換原來的兩個測試用例； 
4. 重複步驟 1-3，直到測試案例的數量達到預定目標。
這個搜尋的過程透過不斷選擇和合併相似的測試案例，使測試套件逐漸精簡至我們理想的規模。與此同時，替換的操作也確保了每次迭代後測試套件的覆蓋率不會下降。
總而言之，ATM 方法通過測試程式碼相似度的計算和相似度導向的演化搜尋演算法，實現了測試案例自動而有效的最小化。此方法既可以最大限度減少測試案例的數量，又可以控制最小化測試案例對覆蓋率的影響，從而達到測試自動化成本優化的目的。
## Experiments
為了評估ATM方法的有效性，本研究設計和實作了一系列的實驗。
首先，選擇了 DEFECTS4J 的 16 個 Java 開源專案作為資料集，與所比較的 FAST-R 方法的來源一致，且包含了 4-112 多種版本。這個資料集能代表不同的應用領域和專案規模，也可以更全面地檢視 ATM 方法的適用性。
接著，針對每個專案構建了一個規模在 152 到 3,912 個測試案例之間的測試套件。測試案例是基於相對應專案的功能規範和程式碼覆蓋標準生成的。
然候，在每個測試套件上運行 ATM 方法和 3 種代表性的現有方法，包括基於隨機刪減的方法、基於程式碼覆蓋率的方法和基於分群的方法。各方法的目標都是希望能最大限度減少測試案例的數量，同時保證程式碼覆蓋率不下降。
最後，分析和比較不同方法的結果，主要從測試案例減少率和覆蓋率影響兩個指標進行評估。測試案例減少率越高且覆蓋率影響越小，表示方法越有效。
除此之外，本研究還設計了重複實驗來檢驗方法的重現性，並隨著測試套件規模的增加，觀察方法效果的變化。
## Conclusions
通過上述實驗設計，本研究全面實驗和評估了 ATM 方法在實際測試案例集上的適用性和優勢。實驗結果表明，ATM 方法可以實現在較高的測試案例減少率的同時最大限度地保護了程式碼的覆蓋率，並且該結果是穩定可重現的。這充分證實了 ATM 方法在測試案例最小化方面的有效性。